# Clever-Bank Application

## Описание проекта

Проект представляет собой сервер и клиент.

Клиентами являются консольные приложения, взаимодействующие с сервером по протоколу HTTP. Для обращения к серверу клиент отправляет GET и POST HTTP-запросы используя библиотеку Unirest.

Для обработки HTTP-запросов и управления приложением сервер использует HTTP-сервлеты, что позволяет обрабатывать множество входящих запросов одновременно. Для развёртывания сервера был использован контейнер сервлетов Apache Tomcat (как локально, так и в Docker-контейнере).

Для хранения данных была развёрнута СУБД PostgreSQL (как локально, так и в контейнере). Для обеспечения целостности данных (при начислениях процентов, переводах, пополнениях и снятиях) были использованы транзакции.

## Реализованный функционал

Пункты из тестового задания 1,2,3,4,5,6,7,8,9,10,11(частично),12,14,15

## Инструкция по запуску сервера и клиента

#### Запуск клиенсткого приложения

Для запуска клиенсткого приложения использовать команду^
```
java -jar CleverBankClient-1.0-SNAPSHOT.jar
```

#### Запуск сервера и базы данных в Docker-контейнерах

Для быстрого запуска проекта можно использовать Docker. В папке server описан Docker-образ сервера и файл docker-compose.yaml, который описывает два сервиса (наш проект и базу данных) для быстрого развёртывания. Чтобы запустить всю необходимую инфраструктуру, необходимо:

1. Убедиться, что на компьютере установлен Docker
2. Из корня проекта перейти в папку "server"
3. В папке "server" выполнить команду:
   ```
   docker compose build && docker compose up
   ```
4. После выполненной команды контейнер сервера будет доступен по адресу localhost:8080, контейнер базы данных на порту 5433.

#### Локальный запуск сервера

Другим вариантом запуска проекта является локальное развёртывания. Для этого необходимо иметь установленную на компьютер СУБД PostgreSQL и контейнер сервлетов Apache Tomcat.

1. Получить доступ к СУБД, создать пустую базу данных "dbCleverBank"
2. Используя SQL-скрипт generation.sql, который находится в папке "server/src/main/resources", инициализировать структуру базы данных.
3. Подготовить к работе контейнер сервлетов Apache Tomcat.
4. Находясь в папке "server" выполнить команду "./gradlew war".
5. Из папки "server/build/libs" скопировать war-архив.
6. Переименовать архив в ROOT.war
7. Открыть корневую папку Tomcat, перейти в папку "webapps", вставить архив ROOT.war
8. Перейти в папку "bin" корневой папки Tomcat, используя скрипт startup.sh запустить сервер
9. После выполненных действий сервер будет доступен по адресу localhost:8080.
